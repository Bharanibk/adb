{
  "name": "employee_master_job",
  "tasks": [
    {
      "task_key": "cleanup_bronze_task1",
      "job_cluster_key": "Job_cluster",
      "notebook_task": {
        "notebook_path": "/Shared/deploy/notebooks/cleanupBronze",
        "source": "WORKSPACE",
        "base_parameters": {
          "storage_account_name": "shared5005",
          "container_name": "emp",
          "environment": "stage"
        }
      }
    },
    {
      "task_key": "process_employee_data",
      "depends_on": [{ "task_key": "cleanup_bronze_task1" }],
      "job_cluster_key": "Job_cluster",
      "notebook_task": {
        "notebook_path": "/Shared/deploy/notebooks/employeeRaw2Bronze",
        "source": "WORKSPACE",
        "base_parameters": {
          "storage_account_name": "shared5005",
          "container_name": "emp",
          "environment": "stage"
        }
      }
    }
  ],
  "job_clusters": [
    {
      "job_cluster_key": "Job_cluster",
      "new_cluster": {
        "spark_version": "16.4.x-scala2.12",
        "node_type_id": "Standard_D4ds_v4",
        "num_workers": 8,
        "azure_attributes": {
          "first_on_demand": 1,
          "availability": "SPOT_WITH_FALLBACK_AZURE",
          "spot_bid_max_price": -1
        },
        "enable_elastic_disk": true,
        "runtime_engine": "PHOTON",
        "spark_env_vars": {
          "PYSPARK_PYTHON": "/databricks/python3/bin/python3"
        }
      }
    }
  ],
  "queue": { "enabled": true }
}
